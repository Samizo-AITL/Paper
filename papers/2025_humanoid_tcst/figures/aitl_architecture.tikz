\begin{figure}[t]
  \centering
  \begin{tikzpicture}[
      node distance=10mm,
      box/.style={rectangle, draw, minimum width=6cm, minimum height=1cm, align=center},
      arrow/.style={-{Latex}, thick}
    ]

    % Blocks
    \node[box, fill=blue!15] (pid) {PID Layer: Real-time stabilization};
    \node[box, fill=green!15, above=of pid] (fsm) {FSM Layer: Supervisory mode switching};
    \node[box, fill=orange!15, above=of fsm] (llm) {LLM Layer: High-level reasoning \& anomaly-driven redesign};
    \node[box, fill=gray!15, below=of pid, minimum height=1.2cm] (plant) {Humanoid Robot Dynamics};

    % Arrows downward
    \draw[arrow] (llm.south) -- (fsm.north);
    \draw[arrow] (fsm.south) -- (pid.north);
    \draw[arrow] (pid.south) -- (plant.north);

    % Feedback (avoid overlapping)
    \draw[arrow] (plant.west)++(-1.2,0) coordinate (aux1)
                 |- (pid.west);

  \end{tikzpicture}
  \caption{AITL three-layer control hierarchy. PID ensures stability, FSM orchestrates mode transitions, and LLM supervises anomalies and reconfiguration.}
  \label{fig:aitl_layers}
\end{figure}
