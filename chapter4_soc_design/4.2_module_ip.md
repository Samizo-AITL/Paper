# 4.2：モジュール選定と抽象設計（IP設計の利点）

SoC設計では、製品仕様をもとに必要な機能ブロック（モジュール）を構成していきます。  
本節では、設計の初期段階で行う「モジュール選定」と「抽象設計」の考え方、IP（Intellectual Property）を活用した設計効率化について解説します。

---

## ✅ 1. モジュールとは何か？

SoC内部を構成する機能単位のこと。  
例：

- CPUコア（例：RISC-V, ARM Cortex-M）
- タイマー、PWM、ADC、UARTなどの**周辺回路（Peripheral）**
- SRAM、ROM、Flash等のメモリブロック
- カスタムIP（独自機能のデジタル／アナログ）

🔧 設計初期には「どのモジュールを、どう組み合わせるか」が重要。

---

## ✅ 2. モジュール選定の流れ（実務＋教育向け）

| ステップ | 内容 | ツール例 |
|----------|------|----------|
| ① 機能整理 | 製品仕様から必要機能を洗い出す | 仕様書、会議資料 |
| ② ブロック分解 | 各機能を論理ブロックに落とし込む | ブロック図 |
| ③ 既存IPの有無確認 | 内製／外部提供のIPを検索・評価 | PDK、IPライブラリ |
| ④ カスタムの要否判断 | 機能や速度に応じて自作の検討 | RTL設計、Verilog |
| ⑤ 抽象設計へ | 各ブロックのI/O、性能、面積などを定義 | Excel, SystemDKなど |

---

## ✅ 3. IP設計の利点と留意点

### 🔹 利点

| 項目 | 内容 |
|------|------|
| 設計の再利用性 | 一度設計したIPを他製品に展開可能 |
| 検証・信頼性 | 既に動作確認済のIPは信頼性が高い |
| 工数削減 | 開発期間短縮、チーム内の役割分担が明確に |
| 外部購入可能 | 商用IP（CPU, USB, DDRなど）で高機能対応可 |

### 🔹 留意点

- **インタフェース整合性**（他ブロックと信号接続できるか）
- **ライセンス条件**（商用IPは契約が必要）
- **カスタマイズ性**（機能追加や改変が可能か）
- **面積・消費電力の評価**（特にアナログIP）

---

## ✅ 4. 教育における抽象設計演習

| 教育内容 | 演習例 |
|----------|--------|
| ブロック図作成 | 簡易SoC（センサ入力＋PWM制御）構成図を作成 |
| I/O定義 | 各ブロックの入出力信号をリストアップ |
| インタフェース検討 | バス（APB/AHB）で接続方法を整理 |
| PDK連携 | IPに必要なプロセス条件（電圧、面積）を確認 |

🧠 **SystemDK的観点**で、抽象設計からRTL接続までを意識できると教育効果が高い。

---

## ✅ 5. モジュール選定とPDKの関係

- **PDK（Process Design Kit）には、標準セルやメモリIPのスペックが記載**
- 使用可能なIP（SRAM, I/Oセル、PLLなど）の電気的特性・面積を把握しておく
- 選定モジュールが、対象プロセスで**レイアウト可能か？**を設計初期に確認する必要あり

---

## ✅ まとめ

| ポイント | 内容 |
|----------|------|
| モジュール選定は設計の骨格形成 | システム設計の起点となる |
| IP設計は効率化と品質向上のカギ | 教育にも再利用性・検証性を意識した構成を |
| 抽象設計はPDK・RTLとつながる | SoC設計の“ハブ”として機能する重要ステップ |

次節では、「PDKの役割と重要性」へと進みます。
